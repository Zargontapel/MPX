<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MPX Programmers Manual: src/mpx_r2.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>src/mpx_r2.c File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &quot;<a class="el" href="mpx__r2_8h_source.html">mpx_r2.h</a>&quot;</code><br/>
<code>#include &quot;mpx_supt.h&quot;</code><br/>
<code>#include &quot;mystdlib.h&quot;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>

<p><a href="mpx__r2_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structprocess.html">PCB</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a58a8a1ea0a96b9ecf0be29179a5a0a1e">allocate_PCB</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocates the memory for a new Process Control Block and returns the pointer to the new PCB location in memory.  <a href="#a58a8a1ea0a96b9ecf0be29179a5a0a1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a79890f055b1d0fccf1962bbde4877caa">free_PCB</a> (<a class="el" href="structprocess.html">PCB</a> *pointer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function releases all allocated memory related to a PCB.  <a href="#a79890f055b1d0fccf1962bbde4877caa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a20991a79e940fd54095a05f5b25cfaf3">setup_PCB</a> (<a class="el" href="structprocess.html">PCB</a> *pointer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This Function initializes the contents of a PCB.  <a href="#a20991a79e940fd54095a05f5b25cfaf3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#aa3b334e3a5afd6e590917667ad359a6f">insert_PCB</a> (<a class="el" href="structprocess.html">PCB</a> *PCBpointer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a722f27bfb24e46ffd7eb86fb34024ed9">insert_PORDR</a> (<a class="el" href="structprocess.html">PCB</a> *PCBpointer, <a class="el" href="structroot.html">ROOT</a> *queueROOT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a58a3e3525ed6385f632835b55ab7d7d1">insert_FIFO</a> (<a class="el" href="structprocess.html">PCB</a> *PCBpointer, <a class="el" href="structroot.html">ROOT</a> *queueROOT)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">In this function we grow the queque to the right no matter of the Priority of the PCB.  <a href="#a58a3e3525ed6385f632835b55ab7d7d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structprocess.html">PCB</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a612a6abcb66c688a32f33abc93ff3990">find_PCB</a> (char *name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#af30a3658210d449b4b53e5be2ed2bc2e">remove_PCB</a> (<a class="el" href="structprocess.html">PCB</a> *<a class="el" href="structprocess.html">process</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a782285c58822e411fb75be1e65fe1104">mpxcmd_create_PCB</a> (int argc, char *argv[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structprocess.html">PCB</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#aca3ad02d2b4c68f7653b0adf2c484ff6">copy_PCB</a> (<a class="el" href="structprocess.html">PCB</a> *pointer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#ae6d6afa9fefa158029528a24841c453a">mpxcmd_delete_PCB</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is a user function in the menu to delete a process it takes the process name as input.  <a href="#ae6d6afa9fefa158029528a24841c453a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#ae8eb72663ecff92c27ab06e3560fd0d4">mpxcmd_block</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is a user function in the menu that puts a process in the blocked state it takes the process name as input.  <a href="#ae8eb72663ecff92c27ab06e3560fd0d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a1363a7b6156a84057936c3fd91d91f69">mpxcmd_unblock</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is a user function in the menu that puts a process in the unblocked state it takes the process name as input.  <a href="#a1363a7b6156a84057936c3fd91d91f69"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a697f0f432dba18606d9e514eda9cd073">mpxcmd_suspend</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is a user function in the menu that puts a process in the suspend state it takes the process name as input.  <a href="#a697f0f432dba18606d9e514eda9cd073"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a3c47daf087934d234d896e35e4c03f3b">mpxcmd_resume</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is a user function in the menu that puts a process in the ready state if previously blocked and blocked if previously suspended it takes the process name as input.  <a href="#a3c47daf087934d234d896e35e4c03f3b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a4505a685b9ab69940541dc4e973e0f01">mpxcmd_setPriority</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is a user function from the menu it changes the priority of a PCB and takes the name and desired priority as inputs80ij.  <a href="#a4505a685b9ab69940541dc4e973e0f01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#ae52d77243725636a3b23d05235fee141">mpxcmd_show_PCB</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is a user command from the menu it is used to show information about a specific PCB.  <a href="#ae52d77243725636a3b23d05235fee141"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#a69559f93fe1b569abf6e846a426191a9">mpxcmd_showAll_PCB</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is a user functions that shows name and state of all processes.  <a href="#a69559f93fe1b569abf6e846a426191a9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#aeaac6d37294f767e31c3789971c5ecd4">mpxcmd_showReady_PCB</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is a user function that shows all non-suspended processes followed by suspended processes.  <a href="#aeaac6d37294f767e31c3789971c5ecd4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#ae1ef92a5e3a8869ec269a23b3b854c9b">mpxcmd_showBlocked_PCB</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is a user function that shows all blocked processes followed by non-blocked processes.  <a href="#ae1ef92a5e3a8869ec269a23b3b854c9b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structroot.html">ROOT</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#afe54c168944e64a28d76b6e4d3abb391">rQueue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structroot.html">ROOT</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mpx__r2_8c.html#ac4950750e25f86d7ee69d6bcca87ef5f">wsQueue</a></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a58a8a1ea0a96b9ecf0be29179a5a0a1e"></a><!-- doxytag: member="mpx_r2.c::allocate_PCB" ref="a58a8a1ea0a96b9ecf0be29179a5a0a1e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structprocess.html">PCB</a>* allocate_PCB </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocates the memory for a new Process Control Block and returns the pointer to the new PCB location in memory. </p>

<p><p>&lt; pointer to the new PCB</p>
<p>&lt; pointer to the Memory Descriptor</p>
<p>&lt;pointer to the stack descriptor</p>
<p>&lt; pointer to the stack low address </p>
</p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00015">15</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                         {
        <a class="code" href="structprocess.html">PCB</a> *newPCB; 
        <a class="code" href="structmem.html">MEMDSC</a> *newMemDsc;
        <a class="code" href="structstack.html">STACKDSC</a> *newStackDsc;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structstack.html">stack</a>; 
        
        <span class="comment">// Allocate memory to each of the disctenct parts of the PCB</span>
        newStackDsc = (<a class="code" href="structstack.html">STACKDSC</a>*) sys_alloc_mem(<span class="keyword">sizeof</span>(<a class="code" href="structstack.html">STACKDSC</a>));
        newMemDsc = (<a class="code" href="structmem.html">MEMDSC</a>*) sys_alloc_mem(<span class="keyword">sizeof</span>(<a class="code" href="structmem.html">MEMDSC</a>));
        newPCB = (<a class="code" href="structprocess.html">PCB</a>*) sys_alloc_mem(<span class="keyword">sizeof</span>(<a class="code" href="structprocess.html">PCB</a>));
        
        <span class="keywordflow">if</span> ( stack == NULL || 
                 newStackDsc == NULL || 
                 newMemDsc == NULL || 
                 newPCB == NULL ) <span class="keywordflow">return</span> NULL;
        
        <span class="comment">//Bundling Opereations of Stack Descripter Bellow</span>
        newPCB -&gt; stackdsc = newStackDsc;  <span class="comment">// stack descriptor is placed in the PCB</span>
        
        <span class="comment">//Bundling Operations of Memory Descriptor </span>
        newPCB -&gt; memdsc = newMemDsc; <span class="comment">// memory descriptor is placed in the PCB</span>
        
        <span class="keywordflow">return</span> newPCB;
        
};
</pre></div></p>

</div>
</div>
<a class="anchor" id="aca3ad02d2b4c68f7653b0adf2c484ff6"></a><!-- doxytag: member="mpx_r2.c::copy_PCB" ref="aca3ad02d2b4c68f7653b0adf2c484ff6" args="(PCB *pointer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structprocess.html">PCB</a>* copy_PCB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprocess.html">PCB</a> *&nbsp;</td>
          <td class="paramname"> <em>pointer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00333">333</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                           { <span class="comment">// FIXME: MEMCPY needed</span>
                <a class="code" href="structprocess.html">PCB</a> *tempPCB = <a class="code" href="mpx__r2_8c.html#a58a8a1ea0a96b9ecf0be29179a5a0a1e" title="Allocates the memory for a new Process Control Block and returns the pointer to the new PCB location ...">allocate_PCB</a>();
                memcpy(tempPCB,pointer,<span class="keyword">sizeof</span>(<a class="code" href="structprocess.html">PCB</a>));
                memcpy(tempPCB -&gt; memdsc, pointer -&gt; memdsc , <span class="keyword">sizeof</span>(<a class="code" href="structmem.html">MEMDSC</a>));
                memcpy(tempPCB -&gt; stackdsc ,pointer -&gt; stackdsc, <span class="keyword">sizeof</span>(<a class="code" href="structstack.html">STACKDSC</a>));
        <span class="keywordflow">return</span> tempPCB;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a612a6abcb66c688a32f33abc93ff3990"></a><!-- doxytag: member="mpx_r2.c::find_PCB" ref="a612a6abcb66c688a32f33abc93ff3990" args="(char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structprocess.html">PCB</a>* find_PCB </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00191">191</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                          {
        <a class="code" href="structpage.html">ELEM</a> *incr;
        incr =  <a class="code" href="mpx__r2_8c.html#afe54c168944e64a28d76b6e4d3abb391">rQueue</a> -&gt; node; <span class="comment">//set node to the first node in the queque</span>
        <span class="keywordflow">while</span> ( strcmp(name,incr -&gt; <a class="code" href="structprocess.html">process</a> -&gt; name ) != 0 &amp;&amp; incr != NULL){ <span class="comment">// Process with the lowest priority goes first </span>
                        incr= incr -&gt; right; <span class="comment">// progrees to the right </span>
        }
        <span class="keywordflow">if</span> (incr == NULL ){
        incr =  <a class="code" href="mpx__r2_8c.html#ac4950750e25f86d7ee69d6bcca87ef5f">wsQueue</a> -&gt; node; <span class="comment">//set node to the first node in the queque</span>
        <span class="keywordflow">while</span> ( strcmp(name,incr -&gt; <a class="code" href="structprocess.html">process</a> -&gt; name ) != 0 &amp;&amp; incr != NULL){ <span class="comment">// Process with the lowest priority goes first </span>
                        incr= incr -&gt; right; <span class="comment">// progrees to the right </span>
        }
        }
        <span class="keywordflow">if</span> ( incr -&gt; <a class="code" href="structprocess.html">process</a> != NULL &amp;&amp; incr != NULL ){
                <span class="keywordflow">return</span> incr-&gt;<a class="code" href="structpage.html#af3cc0e1320b79159b230f154f1a95f0d" title="pointer to the PCB structure">process</a>;
        }<span class="keywordflow">else</span>{
                <span class="keywordflow">return</span> NULL;
        }

}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a79890f055b1d0fccf1962bbde4877caa"></a><!-- doxytag: member="mpx_r2.c::free_PCB" ref="a79890f055b1d0fccf1962bbde4877caa" args="(PCB *pointer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int free_PCB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprocess.html">PCB</a> *&nbsp;</td>
          <td class="paramname"> <em>pointer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function releases all allocated memory related to a PCB. </p>

<p><p>&lt; is a pointer to the stack descriptor</p>
<p>&lt; is a pointer to the base location of the stack</p>
<p>&lt; is a pointer to a Memory Descriptor</p>
<p>&lt; holder for error capture on use of sys_free_mem </p>
</p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00043">43</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                                               {
        <a class="code" href="structstack.html">STACKDSC</a> *stackdscptr = pointer -&gt; stackdsc;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structstack.html">stack</a> = stackdscptr -&gt; base;
        <a class="code" href="structmem.html">MEMDSC</a> *memptr = pointer -&gt; memdsc;
        
        <span class="keywordtype">int</span> err;
        
        <span class="comment">//Free Stack First</span>
        err = sys_free_mem(stack);
        <span class="keywordflow">if</span>( err &lt; 0 ) <span class="keywordflow">return</span> err;
        <span class="comment">//Second free Stack Descriptor</span>
        err = sys_free_mem(stackdscptr);
        <span class="keywordflow">if</span>( err &lt; 0 ) <span class="keywordflow">return</span> err;
        <span class="comment">//Third free Memory Descriptor</span>
        err = sys_free_mem(memptr);
        <span class="keywordflow">if</span>( err &lt; 0 ) <span class="keywordflow">return</span> err;
        <span class="comment">//Finaly free Process Control block</span>
        err = sys_free_mem(pointer);
        <span class="keywordflow">if</span>(err &lt; 0 ) <span class="keywordflow">return</span> err;
        
        <span class="keywordflow">return</span> 0; <span class="comment">//freed mem ok</span>
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a58a3e3525ed6385f632835b55ab7d7d1"></a><!-- doxytag: member="mpx_r2.c::insert_FIFO" ref="a58a3e3525ed6385f632835b55ab7d7d1" args="(PCB *PCBpointer, ROOT *queueROOT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insert_FIFO </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprocess.html">PCB</a> *&nbsp;</td>
          <td class="paramname"> <em>PCBpointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structroot.html">ROOT</a> *&nbsp;</td>
          <td class="paramname"> <em>queueROOT</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>In this function we grow the queque to the right no matter of the Priority of the PCB. </p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00163">163</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                                   { <span class="comment">//FIXME: NO ERROR HANDLING</span>
        <a class="code" href="structpage.html">ELEM</a> *node; <span class="comment">// declare node of type element</span>
        <a class="code" href="structpage.html">ELEM</a> *incr;
        node = sys_alloc_mem( <span class="keyword">sizeof</span>(<a class="code" href="structpage.html">ELEM</a>)); <span class="comment">// allocate Memory for node</span>
        node -&gt; <a class="code" href="structprocess.html">process</a> = PCBpointer;<span class="comment">// add the PCB to the node</span>
        
        <span class="keywordflow">if</span>( queueROOT -&gt; node = NULL ){ <span class="comment">// if this is the first element ever in the queque</span>
                node -&gt; left = NULL; <span class="comment">// set the link left to null</span>
                node -&gt; right = NULL;<span class="comment">// set the link right to null</span>
                queueROOT -&gt; node = node; <span class="comment">// Set the first element in the queque to node of Type Element</span>
                queueROOT -&gt; count += 1; <span class="comment">// increase count by one</span>
                <span class="keywordflow">return</span>; <span class="comment">//exit out first node is in queque. </span>
        }
        
        
        <span class="comment">/* INSERT INTO THE QUEQUE IN FIFO ORDER*/</span>
        incr = queueROOT -&gt; node; <span class="comment">//set node to the first node in the queque</span>
        <span class="keywordflow">while</span>( incr -&gt; right != NULL ){
                incr = incr -&gt; right; <span class="comment">// progress forward to the right of the queque</span>
        }
         node -&gt; left = incr; <span class="comment">//set left to previous node</span>
         node -&gt; right = NULL; <span class="comment">// set right to null </span>
         queueROOT -&gt; count += 1; <span class="comment">// increase count by one as the size of the queque has grown by one</span>
         
         <span class="keywordflow">return</span>;

}
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa3b334e3a5afd6e590917667ad359a6f"></a><!-- doxytag: member="mpx_r2.c::insert_PCB" ref="aa3b334e3a5afd6e590917667ad359a6f" args="(PCB *PCBpointer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insert_PCB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprocess.html">PCB</a> *&nbsp;</td>
          <td class="paramname"> <em>PCBpointer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00094">94</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                                                 { 
   <span class="keywordtype">int</span> ORD;
   <span class="keywordflow">if</span> ( PCBpointer -&gt; state == <a class="code" href="mpx__r2_8h.html#ad1235d5ce36f7267285e82dccd428aa6" title="state is Defined as 1">READY</a> || PCBpointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6fb7181d994ee98e735494be55809708" title="state is Defined as 0">RUNNING</a> ){
                ORD  = FIFO;
        }
        <span class="keywordflow">if</span>( PCBpointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a> || 
                PCBpointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> || 
                PCBpointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ){
                ORD  = PORDR;
        }
   <span class="keywordflow">switch</span>(ORD){
                <span class="keywordflow">case</span> <a class="code" href="mpx__r2_8h.html#ace032edafb5fe32666cf53a1e7a957e0" title="is the Priority Order flag">PORDR</a>:
                        <a class="code" href="mpx__r2_8c.html#a722f27bfb24e46ffd7eb86fb34024ed9">insert_PORDR</a>(PCBpointer,<a class="code" href="mpx__r2_8c.html#ac4950750e25f86d7ee69d6bcca87ef5f">wsQueue</a>);
                        <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> <a class="code" href="mpx__r2_8h.html#af6bc2702f6a1a4bb063b0726d90999da" title="is the First In First Out Order flag">FIFO</a>:
                        <a class="code" href="mpx__r2_8c.html#a58a3e3525ed6385f632835b55ab7d7d1" title="In this function we grow the queque to the right no matter of the Priority of the PCB...">insert_FIFO</a>(PCBpointer,<a class="code" href="mpx__r2_8c.html#afe54c168944e64a28d76b6e4d3abb391">rQueue</a>);
                        <span class="keywordflow">break</span>;
                <span class="keywordflow">default</span>:
                        printf(<span class="stringliteral">&quot;ORDER not Valid&quot;</span>);
                        <span class="keywordflow">break</span>;
                };
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a722f27bfb24e46ffd7eb86fb34024ed9"></a><!-- doxytag: member="mpx_r2.c::insert_PORDR" ref="a722f27bfb24e46ffd7eb86fb34024ed9" args="(PCB *PCBpointer, ROOT *queueROOT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insert_PORDR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprocess.html">PCB</a> *&nbsp;</td>
          <td class="paramname"> <em>PCBpointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structroot.html">ROOT</a> *&nbsp;</td>
          <td class="paramname"> <em>queueROOT</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00117">117</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                                     { <span class="comment">//FIXME: NO ERROR CHECKING</span>
        <a class="code" href="structpage.html">ELEM</a> *node; <span class="comment">// declare node of type element</span>
        <a class="code" href="structpage.html">ELEM</a> *incr;
        node = sys_alloc_mem( <span class="keyword">sizeof</span>(<a class="code" href="structpage.html">ELEM</a>)); <span class="comment">// allocate Memory for node</span>
        node -&gt; <a class="code" href="structprocess.html">process</a> = PCBpointer;<span class="comment">// add the PCB to the node</span>
        
        <span class="keywordflow">if</span>( queueROOT -&gt; node = NULL ){ <span class="comment">// if this is the first element ever in the queque</span>
                node -&gt; left = NULL;
                node -&gt; right = NULL;
                queueROOT -&gt; node = node; <span class="comment">// Set the first element in the queque to node of Type Element</span>
                queueROOT -&gt; count += 1; <span class="comment">// increase count by one</span>
                <span class="keywordflow">return</span>; <span class="comment">//exit out first node is in queque. </span>
        }
        incr = queueROOT -&gt; node; <span class="comment">//set node to the first node in the queque</span>
        <span class="keywordflow">while</span> ( (incr -&gt; <a class="code" href="structprocess.html">process</a> -&gt; priority &lt;= node -&gt; <a class="code" href="structprocess.html">process</a> -&gt; priority) &amp;&amp; incr != NULL ){ <span class="comment">// Process with the lowest priority goes first </span>
                        incr = incr -&gt; right; <span class="comment">// progrees to the right </span>
        }
        <span class="comment">/* There are three cases to check for head, tail, and middle*/</span>
        
        <span class="comment">/*head case*/</span>
        <span class="keywordflow">if</span>( incr -&gt; left == NULL &amp;&amp; incr-&gt;<a class="code" href="structpage.html#a59bb1b5eca2d579befcc93a2833f4dfd" title="pointer to the right PCB structure">right</a> != NULL ){ 
                node-&gt;<a class="code" href="structpage.html#a450d16b8cb803158a4dab05bb36fd7f5" title="pointer to the left PCB structure">left</a> = NULL;
                node-&gt;<a class="code" href="structpage.html#a59bb1b5eca2d579befcc93a2833f4dfd" title="pointer to the right PCB structure">right</a> = incr;
                incr-&gt;<a class="code" href="structpage.html#a450d16b8cb803158a4dab05bb36fd7f5" title="pointer to the left PCB structure">left</a> = node;
                queueROOT -&gt; node = node; <span class="comment">//set quequeROOT to new head</span>
                queueROOT -&gt;<a class="code" href="structroot.html#afa78d0408d4af29e936332a04739d59c">count</a> +=1;
        }
        
        <span class="comment">/*tail case*/</span>
        <span class="keywordflow">if</span>( incr -&gt; left != NULL &amp;&amp; incr-&gt;<a class="code" href="structpage.html#a59bb1b5eca2d579befcc93a2833f4dfd" title="pointer to the right PCB structure">right</a> == NULL ){
                node-&gt; left = &amp;incr;
                node-&gt; right = NULL;
                incr-&gt;<a class="code" href="structpage.html#a59bb1b5eca2d579befcc93a2833f4dfd" title="pointer to the right PCB structure">right</a> = &amp;node;
                queueROOT-&gt;<a class="code" href="structroot.html#afa78d0408d4af29e936332a04739d59c">count</a> +=1;
        }
        
        <span class="comment">/*middle case*/</span>
        <span class="keywordflow">if</span>( incr -&gt; left != NULL &amp;&amp; incr-&gt;<a class="code" href="structpage.html#a59bb1b5eca2d579befcc93a2833f4dfd" title="pointer to the right PCB structure">right</a> != NULL){
                node-&gt;<a class="code" href="structpage.html#a59bb1b5eca2d579befcc93a2833f4dfd" title="pointer to the right PCB structure">right</a> = incr-&gt;<a class="code" href="structpage.html#a59bb1b5eca2d579befcc93a2833f4dfd" title="pointer to the right PCB structure">right</a>;
                incr-&gt;<a class="code" href="structpage.html#a59bb1b5eca2d579befcc93a2833f4dfd" title="pointer to the right PCB structure">right</a> = node;
                node-&gt;<a class="code" href="structpage.html#a450d16b8cb803158a4dab05bb36fd7f5" title="pointer to the left PCB structure">left</a> = incr;
                queueROOT-&gt;<a class="code" href="structroot.html#afa78d0408d4af29e936332a04739d59c">count</a> +=1;
        }
        <span class="keywordflow">return</span>;
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae8eb72663ecff92c27ab06e3560fd0d4"></a><!-- doxytag: member="mpx_r2.c::mpxcmd_block" ref="ae8eb72663ecff92c27ab06e3560fd0d4" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpxcmd_block </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a user function in the menu that puts a process in the blocked state it takes the process name as input. </p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00361">361</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                         {
        <span class="keywordtype">char</span> name[STRLEN];
        <a class="code" href="structprocess.html">PCB</a> *pointer;
        <a class="code" href="structprocess.html">PCB</a> *tempPCB;
        <span class="keywordtype">int</span> buffs = STRLEN;
        printf(<span class="stringliteral">&quot;Name Of Process to block: \n&quot;</span>);
        sys_req(TERMINAL,READ,name,&amp;buffs);
        
        pointer = <a class="code" href="mpx__r2_8c.html#a612a6abcb66c688a32f33abc93ff3990">find_PCB</a>(name);
        <span class="keywordflow">if</span> ( pointer != NULL){
                tempPCB = <a class="code" href="mpx__r2_8c.html#aca3ad02d2b4c68f7653b0adf2c484ff6">copy_PCB</a>(pointer);
                <a class="code" href="mpx__r2_8c.html#af30a3658210d449b4b53e5be2ed2bc2e">remove_PCB</a>(pointer);
                <span class="keywordflow">if</span>( tempPCB -&gt; state &gt; 0 ) tempPCB -&gt; state = BLOCKED;
                <span class="keywordflow">if</span>( tempPCB -&gt; state &lt; 0 &amp;&amp; tempPCB -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> ) tempPCB -&gt; state = SUSPENDED_BLOCKED;
                <a class="code" href="mpx__r2_8c.html#aa3b334e3a5afd6e590917667ad359a6f">insert_PCB</a>(tempPCB);
        }<span class="keywordflow">else</span>{
                printf(<span class="stringliteral">&quot;Process Name not found!&quot;</span>);
                <span class="keywordflow">return</span>;
        }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a782285c58822e411fb75be1e65fe1104"></a><!-- doxytag: member="mpx_r2.c::mpxcmd_create_PCB" ref="a782285c58822e411fb75be1e65fe1104" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpxcmd_create_PCB </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00262">262</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                              {
        <span class="keyword">static</span> <span class="keywordtype">int</span> count = ZERO;
        <span class="keywordtype">int</span> isValid = ZERO;
        <span class="keywordtype">char</span> in[10];
        <span class="keywordtype">int</span> temp;
        <span class="keywordtype">int</span> buffs;
        <a class="code" href="structprocess.html">PCB</a> *newPCB = <a class="code" href="mpx__r2_8c.html#a58a8a1ea0a96b9ecf0be29179a5a0a1e" title="Allocates the memory for a new Process Control Block and returns the pointer to the new PCB location ...">allocate_PCB</a>();   
        <span class="keywordflow">if</span>( count == <a class="code" href="mpx__r2_8h.html#ac328e551bde3d39b6d7b8cc9e048d941">ZERO</a> ){
                <a class="code" href="mpx__r2_8c.html#afe54c168944e64a28d76b6e4d3abb391">rQueue</a> = (<a class="code" href="structroot.html">ROOT</a>*) sys_alloc_mem(<span class="keyword">sizeof</span>(<a class="code" href="structroot.html">ROOT</a>));
                <a class="code" href="mpx__r2_8c.html#ac4950750e25f86d7ee69d6bcca87ef5f">wsQueue</a> = (<a class="code" href="structroot.html">ROOT</a>*) sys_alloc_mem(<span class="keyword">sizeof</span>(<a class="code" href="structroot.html">ROOT</a>));
        }
        
        
        
        printf(<span class="stringliteral">&quot;Process Name: \n&quot;</span>);
        buffs = STRLEN;
        sys_req(TERMINAL,READ,newPCB -&gt; name,&amp;buffs);
        printf(<span class="stringliteral">&quot;Process Class Type ( Application 0 or System  1): \n&quot;</span> );
        buffs = 2;
        sys_req(TERMINAL,READ,in,&amp;buffs);
        temp = atoi(in);
        <span class="keywordflow">if</span>( temp == 1 ) newPCB -&gt; classType = SYSTEM;
        <span class="keywordflow">if</span>(temp == 0 ) newPCB -&gt; classType = APPLICATION;
        temp = 0;
        printf(<span class="stringliteral">&quot;Process Priority (-128 to 127): /n&quot;</span>);
        buffs = 5;
        sys_req(TERMINAL,READ,in,&amp;buffs);
        temp = atoi(in);
        <span class="keywordflow">if</span>( temp &lt;= 127 &amp;&amp; temp &gt;= -128 ) newPCB -&gt; priority = temp;
        temp = 0;
        <span class="keywordflow">while</span>( isValid !=  1 ){
                <span class="comment">//check name validity</span>
                <span class="keywordflow">if</span> ( <a class="code" href="mpx__r2_8c.html#a612a6abcb66c688a32f33abc93ff3990">find_PCB</a>( newPCB -&gt; name ) != NULL ) {
                        printf(<span class="stringliteral">&quot;Process Name NOT VALID&quot;</span>);
                        printf(<span class="stringliteral">&quot;Process Name: \n&quot;</span>);
                        buffs = STRLEN;
                        sys_req(TERMINAL,READ,newPCB -&gt; name,&amp;buffs);
                        isValid = 0;
                }<span class="keywordflow">else</span>{
                        isValid = 1;
                }
                <span class="comment">//check if system or type</span>
                <span class="keywordflow">if</span>( newPCB -&gt; classType == <a class="code" href="mpx__r2_8h.html#a796bd7c6ba2e59281760fb155c6287e8" title="is defined as 0">APPLICATION</a> || newPCB -&gt; classType == <a class="code" href="mpx__r2_8h.html#a21b97df85e65556468b28a576311271c" title="is defined as 1">SYSTEM</a> ){
                        isValid = 1;
                }<span class="keywordflow">else</span>{
                        printf(<span class="stringliteral">&quot;Process Class Type NOT VALID!&quot;</span>);
                        printf(<span class="stringliteral">&quot;Process Class Type ( Application 0 or System  1): \n&quot;</span> );
                        buffs = 2;
                        sys_req(TERMINAL,READ,in,&amp;buffs);
                        temp = atoi(in);
                        <span class="keywordflow">if</span>( temp == 1 ) newPCB -&gt; classType = SYSTEM;
                        <span class="keywordflow">if</span>(temp == 0 ) newPCB -&gt; classType = APPLICATION;
                        temp = 0;
                        isValid = 0;
                }
                <span class="comment">//check Priority</span>
                <span class="keywordflow">if</span>( 127 &lt;= newPCB -&gt; priority || -128 &gt;= newPCB -&gt; priority ){
                    isValid = 1;
                } <span class="keywordflow">else</span>{
                        buffs = 5;
                        sys_req(TERMINAL,READ,in,&amp;buffs);
                        temp = atoi(in);
                        <span class="keywordflow">if</span>( temp &lt;= 127 &amp;&amp; temp &gt;= -128 ) newPCB -&gt; priority = temp;
                        temp = 0;
                }
        }
        
        <a class="code" href="mpx__r2_8c.html#a20991a79e940fd54095a05f5b25cfaf3" title="This Function initializes the contents of a PCB.">setup_PCB</a>(newPCB);
        <a class="code" href="mpx__r2_8c.html#aa3b334e3a5afd6e590917667ad359a6f">insert_PCB</a>(newPCB);
        count++;<span class="comment">//Update the number of times the function has run.</span>
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae6d6afa9fefa158029528a24841c453a"></a><!-- doxytag: member="mpx_r2.c::mpxcmd_delete_PCB" ref="ae6d6afa9fefa158029528a24841c453a" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpxcmd_delete_PCB </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a user function in the menu to delete a process it takes the process name as input. </p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00341">341</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                              {
        <span class="keywordtype">char</span> name[STRLEN];
        <span class="keywordtype">int</span> buffs;
        <a class="code" href="structprocess.html">PCB</a> *pointer;
        buffs = STRLEN;
        printf(<span class="stringliteral">&quot;Name Of Process to Delete: \n&quot;</span>);
        sys_req(TERMINAL,READ,name,&amp;buffs);
        
        pointer = <a class="code" href="mpx__r2_8c.html#a612a6abcb66c688a32f33abc93ff3990">find_PCB</a>(name);
        <span class="keywordflow">if</span> ( pointer != NULL){
                <a class="code" href="mpx__r2_8c.html#af30a3658210d449b4b53e5be2ed2bc2e">remove_PCB</a>(pointer);
        }<span class="keywordflow">else</span>{
                printf(<span class="stringliteral">&quot;Process Name not found!&quot;</span>);
                <span class="keywordflow">return</span>;
        }
        
        <a class="code" href="mpx__r2_8c.html#af30a3658210d449b4b53e5be2ed2bc2e">remove_PCB</a>(pointer);
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3c47daf087934d234d896e35e4c03f3b"></a><!-- doxytag: member="mpx_r2.c::mpxcmd_resume" ref="a3c47daf087934d234d896e35e4c03f3b" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpxcmd_resume </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a user function in the menu that puts a process in the ready state if previously blocked and blocked if previously suspended it takes the process name as input. </p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00427">427</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                          {
        <span class="keywordtype">char</span> name[STRLEN];
        <a class="code" href="structprocess.html">PCB</a> *pointer;
        <a class="code" href="structprocess.html">PCB</a> *tempPCB;
        <span class="keywordtype">int</span> buffs = STRLEN;
        printf(<span class="stringliteral">&quot;Name Of Process to resume: \n&quot;</span>);
        sys_req(TERMINAL,READ,name,&amp;buffs);
        
        pointer = <a class="code" href="mpx__r2_8c.html#a612a6abcb66c688a32f33abc93ff3990">find_PCB</a>(name);
        <span class="keywordflow">if</span> ( pointer != NULL){
                tempPCB = <a class="code" href="mpx__r2_8c.html#aca3ad02d2b4c68f7653b0adf2c484ff6">copy_PCB</a>(pointer);
                <a class="code" href="mpx__r2_8c.html#af30a3658210d449b4b53e5be2ed2bc2e">remove_PCB</a>(pointer);
                <span class="keywordflow">if</span>( tempPCB -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> ) tempPCB -&gt; state = READY;
                <span class="keywordflow">if</span>( tempPCB -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ) tempPCB -&gt; state = BLOCKED;
                <a class="code" href="mpx__r2_8c.html#aa3b334e3a5afd6e590917667ad359a6f">insert_PCB</a>(tempPCB);
        }<span class="keywordflow">else</span>{
                printf(<span class="stringliteral">&quot;Process Name not found!&quot;</span>);
                <span class="keywordflow">return</span>;
        }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4505a685b9ab69940541dc4e973e0f01"></a><!-- doxytag: member="mpx_r2.c::mpxcmd_setPriority" ref="a4505a685b9ab69940541dc4e973e0f01" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpxcmd_setPriority </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a user function from the menu it changes the priority of a PCB and takes the name and desired priority as inputs80ij. </p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00449">449</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                               {
        <span class="keywordtype">char</span> name[STRLEN];
        <a class="code" href="structprocess.html">PCB</a> *pointer;
        <a class="code" href="structprocess.html">PCB</a> *tempPCB;
        <span class="keywordtype">int</span> buffs = STRLEN;
        printf(<span class="stringliteral">&quot;Name Of Process to set Priority: \n&quot;</span>);
        sys_req(TERMINAL,READ,name,&amp;buffs);
        
        pointer = <a class="code" href="mpx__r2_8c.html#a612a6abcb66c688a32f33abc93ff3990">find_PCB</a>(name);
        <span class="keywordflow">if</span> ( pointer != NULL){
                tempPCB = <a class="code" href="mpx__r2_8c.html#aca3ad02d2b4c68f7653b0adf2c484ff6">copy_PCB</a>(pointer);
                <a class="code" href="mpx__r2_8c.html#af30a3658210d449b4b53e5be2ed2bc2e">remove_PCB</a>(pointer);
                <span class="keywordflow">if</span>( tempPCB -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> ) tempPCB -&gt; state = READY;
                <span class="keywordflow">if</span>( tempPCB -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ) tempPCB -&gt; state = BLOCKED;
                <a class="code" href="mpx__r2_8c.html#aa3b334e3a5afd6e590917667ad359a6f">insert_PCB</a>(tempPCB);
        }<span class="keywordflow">else</span>{
                printf(<span class="stringliteral">&quot;Process Name not found!&quot;</span>);
                <span class="keywordflow">return</span>;
        }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae52d77243725636a3b23d05235fee141"></a><!-- doxytag: member="mpx_r2.c::mpxcmd_show_PCB" ref="ae52d77243725636a3b23d05235fee141" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpxcmd_show_PCB </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a user command from the menu it is used to show information about a specific PCB. </p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00472">472</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                            {
        <span class="keywordtype">char</span> name[STRLEN];
        <a class="code" href="structprocess.html">PCB</a> *pointer;
        <span class="keywordtype">char</span> <span class="keyword">class</span>[30];
        <span class="keywordtype">char</span> state[45];
        <span class="keywordtype">int</span> buffs = STRLEN;
        printf(<span class="stringliteral">&quot;Name Of Process to set Priority: \n&quot;</span>);
        sys_req(TERMINAL,READ,name,&amp;buffs);
        
        pointer = <a class="code" href="mpx__r2_8c.html#a612a6abcb66c688a32f33abc93ff3990">find_PCB</a>(name);
        <span class="keywordflow">if</span> ( pointer != NULL){
                
                
                <span class="keywordflow">if</span> ( pointer -&gt; classType  == <a class="code" href="mpx__r2_8h.html#a796bd7c6ba2e59281760fb155c6287e8" title="is defined as 0">APPLICATION</a> )
                        strcpy( <span class="keyword">class</span>, <span class="stringliteral">&quot;Application&quot;</span> );
                <span class="keywordflow">if</span> (  pointer -&gt; classType == <a class="code" href="mpx__r2_8h.html#a21b97df85e65556468b28a576311271c" title="is defined as 1">SYSTEM</a> )
                        strcpy ( <span class="keyword">class</span>, <span class="stringliteral">&quot;System&quot;</span> );
                
                
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6fb7181d994ee98e735494be55809708" title="state is Defined as 0">RUNNING</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Running&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#ad1235d5ce36f7267285e82dccd428aa6" title="state is Defined as 1">READY</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Blocked&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> ) 
                        strcpy( state ,<span class="stringliteral">&quot;Suspened Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Suspened Blocked&quot;</span> ) ;
                
                printf(<span class="stringliteral">&quot;Name: %s \n Class: %s \n Priority: %d \n State:  %s \n&quot;</span>, pointer -&gt; name, <span class="keyword">class</span>, pointer -&gt; priority, state); 
        }<span class="keywordflow">else</span>{
                printf(<span class="stringliteral">&quot;Process Name not found!&quot;</span>);
                <span class="keywordflow">return</span>;
        }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a69559f93fe1b569abf6e846a426191a9"></a><!-- doxytag: member="mpx_r2.c::mpxcmd_showAll_PCB" ref="a69559f93fe1b569abf6e846a426191a9" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpxcmd_showAll_PCB </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a user functions that shows name and state of all processes. </p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00510">510</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                               { <span class="comment">// Pagination function needs added !!Function still needs work!!</span>
        <a class="code" href="structpage.html">ELEM</a> *incr;
        <a class="code" href="structprocess.html">PCB</a> *pointer;
        <span class="keywordtype">char</span> <span class="keyword">class</span>[30];
        <span class="keywordtype">char</span> state[45];
        incr = <a class="code" href="mpx__r2_8c.html#afe54c168944e64a28d76b6e4d3abb391">rQueue</a> -&gt; node;<span class="comment">//set node to the first node in the queque</span>
        <span class="keywordflow">while</span>( incr -&gt; right != NULL ){
                
                pointer = incr -&gt; <a class="code" href="structprocess.html">process</a>;
                
                <span class="keywordflow">if</span> ( pointer -&gt; classType  == <a class="code" href="mpx__r2_8h.html#a796bd7c6ba2e59281760fb155c6287e8" title="is defined as 0">APPLICATION</a> )
                        strcpy( <span class="keyword">class</span>, <span class="stringliteral">&quot;Application&quot;</span> );
                <span class="keywordflow">if</span> (  pointer -&gt; classType == <a class="code" href="mpx__r2_8h.html#a21b97df85e65556468b28a576311271c" title="is defined as 1">SYSTEM</a> )
                        strcpy ( <span class="keyword">class</span>, <span class="stringliteral">&quot;System&quot;</span> );
                
                
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6fb7181d994ee98e735494be55809708" title="state is Defined as 0">RUNNING</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Running&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#ad1235d5ce36f7267285e82dccd428aa6" title="state is Defined as 1">READY</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Blocked&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> ) 
                        strcpy( state ,<span class="stringliteral">&quot;Suspened Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Suspened Blocked&quot;</span> ) ;
                
                
                printf(<span class="stringliteral">&quot;Name: %s \n Class: %s \n Priority: %i \n State:  %s \n&quot;</span>, pointer -&gt; name, <span class="keyword">class</span>, pointer -&gt; priority, state); 
                incr = incr -&gt; right; <span class="comment">// progress forward to the right of the queque</span>
        }
        incr = <a class="code" href="mpx__r2_8c.html#ac4950750e25f86d7ee69d6bcca87ef5f">wsQueue</a> -&gt; node;
        <span class="keywordflow">while</span>( incr -&gt; right != NULL ){
                
                pointer = incr -&gt; <a class="code" href="structprocess.html">process</a>;
        
                <span class="keywordflow">if</span> ( pointer -&gt; classType  == <a class="code" href="mpx__r2_8h.html#a796bd7c6ba2e59281760fb155c6287e8" title="is defined as 0">APPLICATION</a> )
                        strcpy( <span class="keyword">class</span>, <span class="stringliteral">&quot;Application&quot;</span> );
                <span class="keywordflow">if</span> (  pointer -&gt; classType == <a class="code" href="mpx__r2_8h.html#a21b97df85e65556468b28a576311271c" title="is defined as 1">SYSTEM</a> )
                        strcpy ( <span class="keyword">class</span>, <span class="stringliteral">&quot;System&quot;</span> );
                
                
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6fb7181d994ee98e735494be55809708" title="state is Defined as 0">RUNNING</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Running&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#ad1235d5ce36f7267285e82dccd428aa6" title="state is Defined as 1">READY</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Blocked&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> ) 
                        strcpy( state ,<span class="stringliteral">&quot;Suspened Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Suspened Blocked&quot;</span> ) ;
                
                printf(<span class="stringliteral">&quot;Name: %s \n Class: %s \n Priority: %i \n State:  %s \n&quot;</span>, pointer -&gt; name, <span class="keyword">class</span>, pointer -&gt; priority, state); 
                incr = incr -&gt; right; <span class="comment">// progress forward to the right of the queque</span>
        }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae1ef92a5e3a8869ec269a23b3b854c9b"></a><!-- doxytag: member="mpx_r2.c::mpxcmd_showBlocked_PCB" ref="ae1ef92a5e3a8869ec269a23b3b854c9b" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpxcmd_showBlocked_PCB </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a user function that shows all blocked processes followed by non-blocked processes. </p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00628">628</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                                   { <span class="comment">// Pagination function needs added !!Function still needs work!!</span>
        <a class="code" href="structpage.html">ELEM</a> *incr;
        <span class="keywordtype">char</span> <span class="keyword">class</span>[30];
        <span class="keywordtype">char</span> state[45];
        <a class="code" href="structprocess.html">PCB</a> *pointer;
        incr = <a class="code" href="mpx__r2_8c.html#afe54c168944e64a28d76b6e4d3abb391">rQueue</a> -&gt; node;<span class="comment">//set node to the first node in the queque</span>
        <span class="keywordflow">while</span>( incr -&gt; right != NULL ){
                
                pointer = incr -&gt; <a class="code" href="structprocess.html">process</a>;
                <span class="keywordflow">if</span> ( pointer -&gt; state != <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a>) <span class="keywordflow">break</span>;
                
                
                <span class="keywordflow">if</span> ( pointer -&gt; classType  == <a class="code" href="mpx__r2_8h.html#a796bd7c6ba2e59281760fb155c6287e8" title="is defined as 0">APPLICATION</a> )
                        strcpy( <span class="keyword">class</span>, <span class="stringliteral">&quot;Application&quot;</span> );
                <span class="keywordflow">if</span> (  pointer -&gt; classType == <a class="code" href="mpx__r2_8h.html#a21b97df85e65556468b28a576311271c" title="is defined as 1">SYSTEM</a> )
                        strcpy ( <span class="keyword">class</span>, <span class="stringliteral">&quot;System&quot;</span> );
                
                
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6fb7181d994ee98e735494be55809708" title="state is Defined as 0">RUNNING</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Running&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#ad1235d5ce36f7267285e82dccd428aa6" title="state is Defined as 1">READY</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Blocked&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> ) 
                        strcpy( state ,<span class="stringliteral">&quot;Suspened Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Suspened Blocked&quot;</span> ) ;
                
                
                printf(<span class="stringliteral">&quot;Name: %s \n Class: %s \n Priority: %i \n State:  %s \n&quot;</span>, pointer -&gt; name, <span class="keyword">class</span>, pointer -&gt; priority, state); 
                incr = incr -&gt; right; <span class="comment">// progress forward to the right of the queque</span>
        }
        <span class="keywordflow">while</span>( incr -&gt; right != NULL ){
                pointer = incr -&gt; <a class="code" href="structprocess.html">process</a>;
                <span class="keywordflow">if</span> ( pointer -&gt; state != <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a>) <span class="keywordflow">break</span>;
                
                <span class="keywordflow">if</span> ( pointer -&gt; classType  == <a class="code" href="mpx__r2_8h.html#a796bd7c6ba2e59281760fb155c6287e8" title="is defined as 0">APPLICATION</a> )
                        strcpy( <span class="keyword">class</span>, <span class="stringliteral">&quot;Application&quot;</span> );
                <span class="keywordflow">if</span> (  pointer -&gt; classType == <a class="code" href="mpx__r2_8h.html#a21b97df85e65556468b28a576311271c" title="is defined as 1">SYSTEM</a> )
                        strcpy ( <span class="keyword">class</span>, <span class="stringliteral">&quot;System&quot;</span> );
                
                
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6fb7181d994ee98e735494be55809708" title="state is Defined as 0">RUNNING</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Running&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#ad1235d5ce36f7267285e82dccd428aa6" title="state is Defined as 1">READY</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Blocked&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> ) 
                        strcpy( state ,<span class="stringliteral">&quot;Suspened Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Suspened Blocked&quot;</span> ) ;
                
                printf(<span class="stringliteral">&quot;Name: %s \n Class: %s \n Priority: %i \n State:  %s \n&quot;</span>, pointer -&gt; name, <span class="keyword">class</span>, pointer -&gt; priority, state); 
                incr = incr -&gt; right; <span class="comment">// progress forward to the right of the queque</span>
        }
}       
</pre></div></p>

</div>
</div>
<a class="anchor" id="aeaac6d37294f767e31c3789971c5ecd4"></a><!-- doxytag: member="mpx_r2.c::mpxcmd_showReady_PCB" ref="aeaac6d37294f767e31c3789971c5ecd4" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpxcmd_showReady_PCB </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a user function that shows all non-suspended processes followed by suspended processes. </p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00569">569</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                                 { <span class="comment">// Pagination function needs added !!Function still needs work!!</span>
        <a class="code" href="structpage.html">ELEM</a> *incr;
        <a class="code" href="structprocess.html">PCB</a> *pointer;
        <span class="keywordtype">char</span> <span class="keyword">class</span>[30];
        <span class="keywordtype">char</span> state[45];
        incr = <a class="code" href="mpx__r2_8c.html#afe54c168944e64a28d76b6e4d3abb391">rQueue</a> -&gt; node;<span class="comment">//set node to the first node in the queque</span>
        
        <span class="keywordflow">while</span>( incr -&gt; right != NULL ){
                
                pointer = incr -&gt; <a class="code" href="structprocess.html">process</a>;
                <span class="keywordflow">if</span> ( pointer -&gt; state != <a class="code" href="mpx__r2_8h.html#ad1235d5ce36f7267285e82dccd428aa6" title="state is Defined as 1">READY</a>) <span class="keywordflow">break</span>;
                
                <span class="keywordflow">if</span> ( pointer -&gt; classType  == <a class="code" href="mpx__r2_8h.html#a796bd7c6ba2e59281760fb155c6287e8" title="is defined as 0">APPLICATION</a> )
                        strcpy( <span class="keyword">class</span>, <span class="stringliteral">&quot;Application&quot;</span> );
                <span class="keywordflow">if</span> (  pointer -&gt; classType == <a class="code" href="mpx__r2_8h.html#a21b97df85e65556468b28a576311271c" title="is defined as 1">SYSTEM</a> )
                        strcpy ( <span class="keyword">class</span>, <span class="stringliteral">&quot;System&quot;</span> );
                
                
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6fb7181d994ee98e735494be55809708" title="state is Defined as 0">RUNNING</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Running&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#ad1235d5ce36f7267285e82dccd428aa6" title="state is Defined as 1">READY</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Blocked&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> ) 
                        strcpy( state ,<span class="stringliteral">&quot;Suspened Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Suspened Blocked&quot;</span> ) ;
                
                printf(<span class="stringliteral">&quot;Name: %s \n Class: %s \n Priority: %i \n State:  %s \n&quot;</span>, pointer -&gt; name, <span class="keyword">class</span>, pointer -&gt; priority, state); 
                incr = incr -&gt; right; <span class="comment">// progress forward to the right of the queque</span>
        }
        <span class="keywordflow">while</span>( incr -&gt; right != NULL ){
                pointer = incr -&gt; <a class="code" href="structprocess.html">process</a>;
                <span class="keywordflow">if</span> ( pointer -&gt; state != <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a>) <span class="keywordflow">break</span>;
                
                <span class="keywordflow">if</span> ( pointer -&gt; classType  == <a class="code" href="mpx__r2_8h.html#a796bd7c6ba2e59281760fb155c6287e8" title="is defined as 0">APPLICATION</a> )
                        strcpy( <span class="keyword">class</span>, <span class="stringliteral">&quot;Application&quot;</span> );
                <span class="keywordflow">if</span> (  pointer -&gt; classType == <a class="code" href="mpx__r2_8h.html#a21b97df85e65556468b28a576311271c" title="is defined as 1">SYSTEM</a> )
                        strcpy ( <span class="keyword">class</span>, <span class="stringliteral">&quot;System&quot;</span> );
                
                
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6fb7181d994ee98e735494be55809708" title="state is Defined as 0">RUNNING</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Running&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#ad1235d5ce36f7267285e82dccd428aa6" title="state is Defined as 1">READY</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a> ) 
                        strcpy( state, <span class="stringliteral">&quot;Blocked&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> ) 
                        strcpy( state ,<span class="stringliteral">&quot;Suspened Ready&quot;</span> );
                <span class="keywordflow">if</span> ( pointer -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ) 
                        strcpy( state , <span class="stringliteral">&quot;Suspened Blocked&quot;</span> ) ;
                
                printf(<span class="stringliteral">&quot;Name: %s \n Class: %s \n Priority: %i \n State:  %s \n&quot;</span>, pointer -&gt; name, <span class="keyword">class</span>, pointer -&gt; priority, state); 
                incr = incr -&gt; right; <span class="comment">// progress forward to the right of the queque</span>
        }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a697f0f432dba18606d9e514eda9cd073"></a><!-- doxytag: member="mpx_r2.c::mpxcmd_suspend" ref="a697f0f432dba18606d9e514eda9cd073" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpxcmd_suspend </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a user function in the menu that puts a process in the suspend state it takes the process name as input. </p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00405">405</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                           {
        <span class="keywordtype">char</span> name[STRLEN];
        <a class="code" href="structprocess.html">PCB</a> *pointer;
        <a class="code" href="structprocess.html">PCB</a> *tempPCB;
        <span class="keywordtype">int</span> buffs = STRLEN;
        printf(<span class="stringliteral">&quot;Name Of Process to suspend: \n&quot;</span>);
        sys_req(TERMINAL,READ,name,&amp;buffs);
        
        pointer = <a class="code" href="mpx__r2_8c.html#a612a6abcb66c688a32f33abc93ff3990">find_PCB</a>(name);
        <span class="keywordflow">if</span> ( pointer != NULL){
                tempPCB = <a class="code" href="mpx__r2_8c.html#aca3ad02d2b4c68f7653b0adf2c484ff6">copy_PCB</a>(pointer);
                <a class="code" href="mpx__r2_8c.html#af30a3658210d449b4b53e5be2ed2bc2e">remove_PCB</a>(pointer);
                <span class="keywordflow">if</span>( tempPCB -&gt; state == <a class="code" href="mpx__r2_8h.html#ad1235d5ce36f7267285e82dccd428aa6" title="state is Defined as 1">READY</a> || tempPCB -&gt; state == <a class="code" href="mpx__r2_8h.html#a6fb7181d994ee98e735494be55809708" title="state is Defined as 0">RUNNING</a> ) tempPCB -&gt; state = SUSPENDED_READY;
                <span class="keywordflow">if</span>( tempPCB -&gt; state == <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a> ) tempPCB -&gt; state = SUSPENDED_BLOCKED;
                <a class="code" href="mpx__r2_8c.html#aa3b334e3a5afd6e590917667ad359a6f">insert_PCB</a>(tempPCB);
        }<span class="keywordflow">else</span>{
                printf(<span class="stringliteral">&quot;Process Name not found!&quot;</span>);
                <span class="keywordflow">return</span>;
        }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1363a7b6156a84057936c3fd91d91f69"></a><!-- doxytag: member="mpx_r2.c::mpxcmd_unblock" ref="a1363a7b6156a84057936c3fd91d91f69" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpxcmd_unblock </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a user function in the menu that puts a process in the unblocked state it takes the process name as input. </p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00383">383</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                                           {
        <span class="keywordtype">char</span> name[STRLEN];
        <a class="code" href="structprocess.html">PCB</a> *pointer;
        <a class="code" href="structprocess.html">PCB</a> *tempPCB;
        <span class="keywordtype">int</span> buffs = STRLEN;
        printf(<span class="stringliteral">&quot;Name Of Process to unblock: \n&quot;</span>);
        sys_req(TERMINAL,READ,name,&amp;buffs);
        
        pointer = <a class="code" href="mpx__r2_8c.html#a612a6abcb66c688a32f33abc93ff3990">find_PCB</a>(name);
        <span class="keywordflow">if</span> ( pointer != NULL){
                tempPCB = <a class="code" href="mpx__r2_8c.html#aca3ad02d2b4c68f7653b0adf2c484ff6">copy_PCB</a>(pointer);
                <a class="code" href="mpx__r2_8c.html#af30a3658210d449b4b53e5be2ed2bc2e">remove_PCB</a>(pointer);
                <span class="keywordflow">if</span>( tempPCB -&gt; state == <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a> ) tempPCB -&gt; state = READY;
                <span class="keywordflow">if</span>( tempPCB -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ) tempPCB -&gt; state = SUSPENDED_READY;
                <a class="code" href="mpx__r2_8c.html#aa3b334e3a5afd6e590917667ad359a6f">insert_PCB</a>(tempPCB);
        }<span class="keywordflow">else</span>{
                printf(<span class="stringliteral">&quot;Process Name not found!&quot;</span>);
                <span class="keywordflow">return</span>;
        }
}
</pre></div></p>

</div>
</div>
<a class="anchor" id="af30a3658210d449b4b53e5be2ed2bc2e"></a><!-- doxytag: member="mpx_r2.c::remove_PCB" ref="af30a3658210d449b4b53e5be2ed2bc2e" args="(PCB *process)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remove_PCB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprocess.html">PCB</a> *&nbsp;</td>
          <td class="paramname"> <em>process</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00210">210</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                               {
        <a class="code" href="structroot.html">ROOT</a> *queue;
        <a class="code" href="structpage.html">ELEM</a> *incr;
        <a class="code" href="structpage.html">ELEM</a> *temp1;
        <a class="code" href="structpage.html">ELEM</a> *temp2;
        
        <span class="keywordflow">if</span> ( process -&gt; state == <a class="code" href="mpx__r2_8h.html#ad1235d5ce36f7267285e82dccd428aa6" title="state is Defined as 1">READY</a> || process -&gt; state == <a class="code" href="mpx__r2_8h.html#a6fb7181d994ee98e735494be55809708" title="state is Defined as 0">RUNNING</a> ){
                queue = <a class="code" href="mpx__r2_8c.html#afe54c168944e64a28d76b6e4d3abb391">rQueue</a>;
        }
        <span class="keywordflow">if</span>( process -&gt; state == <a class="code" href="mpx__r2_8h.html#a48f6457243719e7031768d4100741159" title="state is defined as 2">BLOCKED</a> || 
                process -&gt; state == <a class="code" href="mpx__r2_8h.html#a07b1141143e8825b04670da23fca8cc7" title="is defined by 3">SUSPENDED_READY</a> || 
                process -&gt; state == <a class="code" href="mpx__r2_8h.html#a6e41bb5a80c5049e8d364bab8ee4d73a" title="is defined by 4">SUSPENDED_BLOCKED</a> ){
                queue = <a class="code" href="mpx__r2_8c.html#ac4950750e25f86d7ee69d6bcca87ef5f">wsQueue</a>;
        }
        
        incr = queue-&gt; node; <span class="comment">//set node to the first node in the queque</span>
        <span class="keywordflow">while</span> ( (incr -&gt; process != process ) &amp;&amp; incr != NULL ){ <span class="comment">// find the same process</span>
                        incr = incr -&gt; right; <span class="comment">// progrees to the right </span>
        }
        <span class="comment">/* There are three cases to check for head, tail, and middle*/</span>
        
        <span class="comment">/*head case*/</span>
        <span class="keywordflow">if</span>( incr -&gt; left == NULL &amp;&amp; incr-&gt;<a class="code" href="structpage.html#a59bb1b5eca2d579befcc93a2833f4dfd" title="pointer to the right PCB structure">right</a> != NULL ){ 
                incr = incr -&gt; right;
                incr -&gt; left  = NULL;
                queue -&gt; node = incr -&gt; right; <span class="comment">//set queueROOT to new head</span>
                queue -&gt;<a class="code" href="structroot.html#afa78d0408d4af29e936332a04739d59c">count</a> -=1;
        }
        
        <span class="comment">/*tail case*/</span>
        <span class="keywordflow">if</span>( incr -&gt; left != NULL &amp;&amp; incr-&gt;<a class="code" href="structpage.html#a59bb1b5eca2d579befcc93a2833f4dfd" title="pointer to the right PCB structure">right</a> == NULL ){
                incr = incr-&gt; left;
                incr -&gt; right  = NULL;
                queue -&gt; count -=1;
        }
        
        <span class="comment">/*middle case*/</span>
        <span class="keywordflow">if</span>( incr -&gt; left != NULL &amp;&amp; incr-&gt;<a class="code" href="structpage.html#a59bb1b5eca2d579befcc93a2833f4dfd" title="pointer to the right PCB structure">right</a> != NULL){
                temp1 = incr -&gt; left;
                temp1 -&gt; right = incr -&gt; right;
                temp2 = incr -&gt; right;
                temp2 -&gt; left = incr -&gt; left;
                queue -&gt; count -=1;
        }
        <span class="comment">//Deallocate mem</span>
        <a class="code" href="mpx__r2_8c.html#a79890f055b1d0fccf1962bbde4877caa" title="This function releases all allocated memory related to a PCB.">free_PCB</a>(process);
        sys_free_mem(incr);
        
        <span class="keywordflow">return</span>;
        }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a20991a79e940fd54095a05f5b25cfaf3"></a><!-- doxytag: member="mpx_r2.c::setup_PCB" ref="a20991a79e940fd54095a05f5b25cfaf3" args="(PCB *pointer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_PCB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprocess.html">PCB</a> *&nbsp;</td>
          <td class="paramname"> <em>pointer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This Function initializes the contents of a PCB. </p>

<p><p>&lt; counter varable for loop</p>
<p>&lt; pointer to what will become the bottom of the stack </p>
</p>

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00068">68</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

<p><div class="fragment"><pre class="fragment">                              {
        <span class="keywordtype">int</span> i;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structstack.html">stack</a>;
        <span class="comment">//Allocate the stack</span>
        stack = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*) sys_mem_alloc(<a class="code" href="mpx__r2_8h.html#a21d9543c516fffee84a7963224271f95" title="is the size of the stack in Bytes">STACKSIZE</a>);
        
        
                
                
        <span class="comment">//set priority of PCB ( this is for MOD 2 Only, comment out after Mod 2) </span>
        pointer -&gt; priority =  READY;
        <span class="comment">//Ucomment after mod 2</span>
        <span class="comment">// pointer -&gt; priority = priority;</span>
        
        <span class="comment">//Setup Memory Descriptor with Default Values for Module 2</span>
        pointer -&gt; memdsc -&gt; size = 0;
        pointer -&gt; memdsc -&gt; loadADDR = NULL;
        pointer -&gt; memdsc -&gt; execADDR = NULL;
        
        <span class="comment">//Setup the Stack</span>
        <span class="keywordflow">for</span>( i = 0; i &lt; STACKSIZE; i++)  *(stack + i) = 0; <span class="comment">//ZERO out Stack to aid in debug....</span>
        pointer -&gt; stackdsc -&gt; base = stack; <span class="comment">// x86 arch Stacks start at the Higest value </span>
        pointer -&gt; stackdsc -&gt; top  = stack[STACKSIZE-1];<span class="comment">// and go to lowest or n - 2 for Word alloc </span>
        
}
</pre></div></p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="afe54c168944e64a28d76b6e4d3abb391"></a><!-- doxytag: member="mpx_r2.c::rQueue" ref="afe54c168944e64a28d76b6e4d3abb391" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structroot.html">ROOT</a>* <a class="el" href="mpx__r2_8c.html#afe54c168944e64a28d76b6e4d3abb391">rQueue</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00008">8</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac4950750e25f86d7ee69d6bcca87ef5f"></a><!-- doxytag: member="mpx_r2.c::wsQueue" ref="ac4950750e25f86d7ee69d6bcca87ef5f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structroot.html">ROOT</a>* <a class="el" href="mpx__r2_8c.html#ac4950750e25f86d7ee69d6bcca87ef5f">wsQueue</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mpx__r2_8c_source.html#l00009">9</a> of file <a class="el" href="mpx__r2_8c_source.html">mpx_r2.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Oct 8 2010 21:40:30 for MPX Programmers Manual by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
